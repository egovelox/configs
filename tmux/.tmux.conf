######################################## 
# KEY BINDINGS
########################################


# Change tmux default prefix key (C-b)
unbind C-b
set -g prefix C-a
# Allow to send the prefix to another program
bind C-a send-prefix


# key to reload config
bind r source-file $HOME/.tmux.conf \; display "Config Reloaded!"


# Keys to change pane or change window
bind -r C-h select-window -t :-
bind -r C-l select-window -t :+
bind h select-pane -L
bind j select-pane -D
bind k select-pane -U
bind l select-pane -R


# split window
bind | split-window -h -c "#{pane_current_path}"
bind - split-window -v -c "#{pane_current_path}"


########################################
# STATUS BAR
########################################


# Status bar
set -g status-justify left
set -g status-interval 2
set -g status-style "bg=#4c566a,fg=#eceff4"
set -g status-left "#[fg=#bf616a,bg=#ebcb8b,bold] #S "
# tmux-mem-cpu-load
# --averages-count 1 # will only display cpu-last-minute-average 
# --graph-lines 5 # will disply first bar if cpu-load > 20% 
# --interval 2 # should be the same as on tmux status-interval
set -g status-right "#{prefix_highlight} #[fg=#2e3440,bg=#81a1c1,bold] mem #(tmux-mem-cpu-load -m 2 --averages-count 1 --graph-lines 5 --interval 2) " 
set -g status-right-length 70
set -ga status-right "#{prefix_highlight} #[bg=#ebcb8b,fg=#bf616a,bold] %H:%M "
# ifconfig en0 inet | grep inet | cut -d' ' -f2

setw -g window-status-format '#[fg=#81a1c1,bg=#4c566a] #I:#{=/-15/…:pane_title} '
setw -g window-status-current-format '#[fg=#2e3440,bg=#81a1c1,bold] #I:#{=/-15/…:pane_title} '
setw -g window-status-separator ""


# Fix titlebar
set -g set-titles on
set -g set-titles-string "#T"


# make window/pane index start with 1
set -g base-index 1
setw -g pane-base-index 1


########################################
# OTHER SETTINGS
########################################


# default shell
set -g default-shell /usr/local/bin/fish
set -g default-command /usr/local/bin/fish


# helps in faster key repetition Avoid ESC delay
set -sg escape-time 0


# set scroll history to 100,000 lines
set-option -g history-limit 100000


set -g mode-keys vi

